<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Display Glitch Illusion</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
    body {
        background: linear-gradient(to left, skyblue, rgb(135, 135, 149));
        transition: background 0.5s ease-in-out;
        overflow: hidden;
    }

    main {
        transition: opacity 0.4s ease-in-out;
    }

    /* Screen shake */
    @keyframes shake {
        0% { transform: translate(0,0); }
        25% { transform: translate(-2px,1px); }
        50% { transform: translate(2px,-1px); }
        75% { transform: translate(-1px,-2px); }
        100% { transform: translate(0,0); }
    }

    .glitch {
        animation: shake 0.15s infinite;
    }

    /* Color separation illusion */
    .glitch-text {
        filter:
          drop-shadow(2px 0 red)
          drop-shadow(-2px 0 cyan);
    }
</style>
</head>

<body>

<main class="py-5">
    <div class="container text-center glitch-text">

        <h1>JAVA SCRIPT</h1>
        <h2>Dinesh Jangra</h2>

        <div class="d-flex justify-content-center gap-4 mt-4 flex-wrap">
            <img src="https://picsum.photos/200?1" class="img-fluid rounded-4" width="200">
            <img src="https://picsum.photos/200?2" class="img-fluid rounded-4" width="200">
            <img src="https://picsum.photos/200?3" class="img-fluid rounded-4" width="200">
        </div>

        <div class="mt-5 d-flex justify-content-center gap-3">
            <button class="btn btn-danger" onclick="startGlitch()">Start Illusion</button>
            <!-- <button class="btn btn-success" onclick="stopGlitch()">Stop Illusion</button> -->
        </div>

    </div>
</main>

<script>
let glitchTimer = null;
let visible = true;

function randomTime() {
    return Math.floor(Math.random() * 400) ; // 100â€“500ms
}

function startGlitch() {
    const main = document.querySelector("main");
    const body = document.body;

    if (glitchTimer) return;

    main.classList.add("glitch");

    function loop() {
        visible = !visible;

        main.style.opacity = visible ? "1" : "0";

        body.style.background = visible
            ? "linear-gradient(to left, skyblue, rgb(135,135,149))"
            : "linear-gradient(to left, rgba(30,30,30,1), rgb(120,120,120))";

        glitchTimer = setTimeout(loop, randomTime());
    }

    loop();
}

function stopGlitch() {
    const main = document.querySelector("main");

    clearTimeout(glitchTimer);
    glitchTimer = null;

    main.style.opacity = "1";
    main.classList.remove("glitch");

    document.body.style.background =
        "linear-gradient(to left, skyblue, rgb(135, 135, 149))";
}
</script>

</body>
</html>
